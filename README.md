### 17. Установка операционной системы, настройка и конфгурирование:
### Настроить параметры операционной системы, драйверов и служб:
  - В окне VirtualBox нажимаем на кнопку `устройства` → `подключить образ дополнений Гостевой ОС`
  - Будет подключен диск с названием `VBox_GAs_7.1.10`
  - Через проводник заходим на этот диск и нажимаем кнопку `запустить центр приложений`
  - Откроется окно подтверждения запуска, нажимаем на кнопку `запустить`
  - Ждём установку, терминал закроется автоматически (в крайнем случае попросит нажать на enter, то есть return)
  - После окончания установки обязательно перезагрузить виртуальную машину, чтоб драйвер поставился
  - Чтобы продемонстрировать установку драйвера, заходим в приложение `драйверы` и показываем, что у нас используется драйвер от VirtualBox
  - Если установить драйверы через терминал, пишем:
```
sudo ubuntu-drivers autoinstall
```
---

### Настройка и установка SSH:
```
sudo apt install openssh-server -y
sudo systemctl enable ssh
sudo systemctl start ssh
sudo ufw allow ssh
```

---

### Настройка брандмауэра:
```
sudo ufw enable
sudo ufw allow ssh
sudo ufw status
```

---

### Настроить интернет соединение
- если будет работать ping и packetloss не будут равны 100%, то прописываем `ping ya.ru` или `ping 8.8.8.8`
- если ping работать не будет, то проверку интернет соединения делаем в установленном автоматически браузере Firefox, просто заходим в google.com
- так же можно прописывать команду `ip a`, там так же выведет данные о соединении с интернетом

---

### Выполнить установку базового программного обеспечения
- Устанавливаем в любом случае (если не установлено) пакет libreoffice, а остальное по желанию. Желательно установить 3-4 приложения
```
sudo apt install -y \
libreoffice \
curl \
wget \
git \
htop \
mc \
vim \
nano \
net-tools \
lsb-release \
unzip \
zip \
build-essential \
software-properties-common \
ca-certificates \
gnupg \
ufw
```

---

### Выполнить установку виртуального принтера
```
sudo apt install cups printer-driver-cups-pdf
```
- И на всякий случай пропишите, если вдруг у вас не появится принтер:
```
sudo systemctl enable cups
sudo systemctl start cups
```
---

### 18. Применение средств защиты компьютерных систем:
### Выполнить резервное копирование установленной операционной системы и создать установочный образ системы
- Устанавливаем timeshift для резервного копирования
```
sudo apt install timeshift -y
```
- Далее заходим в timeshift, откроется первоначальная настройка (мастер установки)
- Во вкладке выбора типа снимка выбираем `RSYNC`, жмём `далее`
- Во вкладке выбора места для снимка оставляем всё как есть, автоматически выберется диск. Если не выбрался, то выбираем ваш единственный диск и жмём `далее`
- Во вкладке выбора уровней снимка убираем галочки отовсюду
- Во вкладке домашних папок пользователей выбираем `включить все файлы` на обеих папках пользователя
- После первичной установки и настройки, откроется сама программа, где мы нажимаем на кнопку `создать` и созданием бэкапа автоматически начнётся
- После завершения бэкапа, можно посмотреть где находится бэкап, в приложении нажав `обзор`
- Если хотите сделать через терминал, то команда:
```
sudo rsync -aAXv --exclude={"/dev/*","/proc/*","/sys/*","/tmp/*","/run/*","/mnt/*","/media/*","/lost+found"} / /mnt/backup
```

---

### Создание точки восстановления системы
- Такого в линуксе нет, поэтому пункт пропускаем

---

### Создать группы пользователей, настроить права доступа
- Чтобы создать группу, пишем:
```
sudo groupadd <имя группы>
```
- Чтобы создать пользователя, пишем:
```
sudo useradd <имя пользователя>
```
- Чтобы создать пользователя и сразу добавить его в группу, пишем:
```
sudo useradd -m -G <имя группы> <имя созданной группы>
```
- Чтобы добавить уже существующего пользователя в существующую группу, пишем:
```
sudo usermod -aG (append to group) <название группы> <имя пользователя>
```
- Чтобы дать права администратора пользователю, пишем:
```
sudo usermod -aG sudo <имя пользователя>
```
- Чтобы сделать пользователя обычным, пишем:
```
sudo deluser <имя пользователя> sudo
```
- Чтобы добавить право записи для группы в папку, пишем:
```
sudo chmod g+w (для записи в папку или файл) <путь к папке /путь/к/папке>
```
- Чтобы удалить право чтения для папки, пишем:
```
sudo chmod o-r (для удаления доступа к чтению) <путь к папке /путь/к/папке>
```
- Чтобы установить для владельца права чтения, записи и выполнения (полный доступ), пишем:
```
sudo chmod u=rwx (для выдачи полных прав для чтения и записи) <путь к папке /путь/к/папке>

r: read (чтение). Владелец сможет просматривать содержимое файла.
w: write (запись). Владелец сможет изменять содержимое файла.
x: execute (выполнение). Если файл является исполняемым (например, скрипт), владелец сможет его запускать. Если это папка, то владелец сможет заходить в эту папку.
Вместе rwx означает, что мы даем владельцу-пользователю полный доступ к файлу: чтение, запись и выполнение.
```

---

### Настроить аутентификацию и авторизацию, журналов мониторинга
- Чтобы промониторить все логи, пишем:
```
sudo journalctl -xe (-x добавляет дополнительные разъяснения к некоторым сообщениям журнала, чтобы их было проще понять, -eсразу перемещает просмотр к концу журнала (самые свежие записи), чтобы вы видели последние события)
```
- Можно показать дерево процессов, пишем:
```
pstree
```

---

### Общая папка между виндовсом и линуксом
1. Выключаем виртуальную машину
2. Заходим в настройки виртуальной машины
3. Во вкладке `общие`, выбираем `дополнительно`. Общий буфер обмена и функция Drag'n'Drop должны быть в состоянии `двунаправленный`
4. Далее заходим во вкладку `сеть`. У нас уже включен `адаптер 1` с типом подключения `NAT`. Нам нужно включить `адаптер 2` и выбираем тип подключения `сетевой мост`
5. Нажимаем `ОК`, чтобы сохранились изменения
6. На рабочем столе виндовса создаём любую папку, с любым названием. Она у нас должна в будущем отобразиться на линуксе
7. Заходим обратно в настройки виртуальной машины, в раздел `общие папки`
8. Нажимаем на ![img.png](img.png), откроется вот такое окно ![img_1.png](img_1.png)
